{"version":3,"sources":["../src/configureApolloClient.js"],"names":["createClient","networkInterface","uri","opts","credentials","use","applyMiddleware","req","next","options","headers","client","dataIdFromObject","result","id"],"mappings":";;;;;kBAEwBA,Y;;AAFxB;;;;;;AAEe,SAASA,YAAT,GAAwB;;AAErC,MAAMC,mBAAmB,0CAAuB;AAC9CC,SAAK,4DADyC;AAE9CC,UAAM;AACJC,mBAAa;AADT;AAFwC,GAAvB,CAAzB;;AAOAH,mBAAiBI,GAAjB,CAAqB,CAAC;AACpBC,mBADoB,2BACJC,GADI,EACCC,IADD,EACO;AACzB,UAAI,CAACD,IAAIE,OAAJ,CAAYC,OAAjB,EAA0B;AACxBH,YAAIE,OAAJ,CAAYC,OAAZ,GAAsB,EAAtB;AACD;AACD;AACA;AACA;AACA;;;AAGAF;AACD;AAZmB,GAAD,CAArB;;AAeA,MAAMG,SAAS,2BAAiB;AAC9BC,sBAAkB,0BAACC,MAAD,EAAY;AAC5B,UAAIA,OAAOC,EAAX,EAAe;AACb,eAAOD,OAAOC,EAAd;AACD;AACD,aAAO,IAAP;AACD,KAN6B;AAO9Bb;AAP8B,GAAjB,CAAf;;AAUA,SAAOU,MAAP;AACD","file":"configureApolloClient.js","sourcesContent":["import ApolloClient, { createNetworkInterface } from 'apollo-client'\n\nexport default function createClient() {\n\n  const networkInterface = createNetworkInterface({\n    uri: 'https://api.graph.cool/simple/v1/cixri1w220iji0121r8lr0n69',\n    opts: {\n      credentials: 'same-origin'\n    }\n  })\n\n  networkInterface.use([{\n    applyMiddleware(req, next) {\n      if (!req.options.headers) {\n        req.options.headers = {}\n      }\n      //const auth0UserId = \"google-oauth2|105177936045252041367\"\n      //req.options.headers.authorization = `Bearer ${auth0UserId}`\n      // get the authentication token from local storage if it exists\n      /*if (localStorage && localStorage.getItem('auth0IdToken')) {\n        req.options.headers.authorization = `Bearer ${localStorage.getItem('auth0IdToken')}`\n      }*/\n      next()\n    },\n  }])\n\n  const client = new ApolloClient({\n    dataIdFromObject: (result) => {\n      if (result.id) {\n        return result.id\n      }\n      return null\n    },\n    networkInterface\n  })\n\n  return client\n}\n"]}